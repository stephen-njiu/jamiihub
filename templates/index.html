{% extends "base.html" %}
{% block body %}
<h1>Hello Everyone.</h1>
<div class="container">
    <h1>Welcome</h1>
    <form id="auth-form" action="{{url_for('login')}}" method="post">
        <input type="text" name="username" placeholder="username" class="input-field" required>
        <input type="email" name="email" placeholder="email" class="input-field" required>
        <input type="password" name="password" placeholder="password" class="input-field" required>
        <input type="submit" value="Login" class="btn btn-login" onclick="setActionForm('login')">
        <input type="button" value="Register" class="btn btn-login" onclick="setActionForm('register')">
    </form>
    {% if error %}
    <p class="error">{{ error }}</p>
    {% endif %}
    {% if message %}
    <p class="message">{{ message }}</p>
    {% endif %}
</div>
<script>
    function setActionForm(action){
        let form = document.getElementById('auth-form')
        if (action === 'login'){
            form.action = "{{url_for('login')}}";
            form.method = 'post';
            form.submit();
        } else if (action === 'register'){
            form.action = "{{url_for('register')}}";
            form.method = 'post';
            form.submit();
        }
    }
</script>
{% endblock %}